<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no">

<title>suixin dictation helper</title>

<script type="text/javascript"> 
 var _0x4c65=['getElementById','ttsText','stopDictationBtn','hintRepeatTimes','{\x22word\x22:\x22','dictationBtn','正在听写：','word','words','background-color:#0033FF;color:white;','disabled','background-color:green;color:white;','replace','border:0;border-bottom:2px;border-bottom-style:solid;border-bottom-color:black;text-align:center;','dictateDuration','{\x22word\x22:\x22听写结束\x22}','speechSynthesis','value','length','callee','speak','您的浏览器不支持语音合成功能。','style','\x22},'];var _0x4ad1=function(_0x4c6563,_0x4ad1c9){_0x4c6563=_0x4c6563-0x0;var _0x29cf33=_0x4c65[_0x4c6563];return _0x29cf33;};function trim(_0x2acf3e){_0x2acf3e=_0x2acf3e[_0x4ad1('0xc')](/(^\s*)|(\s*$)/g,'');_0x2acf3e=_0x2acf3e[_0x4ad1('0xc')](/(^\n*)|(\n*$)/g,'');return _0x2acf3e;}function isChineseWord(_0x4909ab){if(escape(_0x4909ab)['indexOf']('%u')<0x0){return![];}else{return!![];}}function dictateDuration(_0x301119){var _0x99cd7=parseInt(document['getElementById'](_0x4ad1('0xe'))[_0x4ad1('0x11')]);if(_0x99cd7==null||_0x99cd7<0xbb8){_0x99cd7=0xbb8;}if(isChineseWord(_0x301119)){return 0x12c*_0x301119['length']+_0x99cd7;}else{return 0x32*_0x301119[_0x4ad1('0x12')]+_0x99cd7;}}function getDictationContentJSON(){var _0x38e033=document[_0x4ad1('0x0')]('dictationContent')['value'];_0x38e033=trim(_0x38e033);_0x38e033=_0x38e033['replace'](/([.\n\r]+)/g,'\x0a');var _0x356c94=_0x38e033['split']('\x0a');var _0x4bda06='{\x22words\x22:[';_0x4bda06+='{\x22word\x22:\x22听写开始\x22},';for(var _0x4d6b5e=0x0;_0x4d6b5e<_0x356c94[_0x4ad1('0x12')];_0x4d6b5e++){if(_0x356c94[_0x4d6b5e]!=''){_0x4bda06+=_0x4ad1('0x4')+_0x356c94[_0x4d6b5e]+_0x4ad1('0x17');}}_0x4bda06+=_0x4ad1('0xf');_0x4bda06+=']}';return _0x4bda06;}var intervalRef=null;function dictation(){var _0x264abc=document['getElementById'](_0x4ad1('0x5'));var _0x25ce11=document['getElementById'](_0x4ad1('0x2'));_0x264abc['disabled']=!![];_0x25ce11['disabled']=![];var _0x340d99=document['getElementById']('wordToDict');_0x340d99[_0x4ad1('0x16')]=_0x4ad1('0xb');var _0x1dc1c2=document['getElementById']('inf');_0x1dc1c2['innerHTML']=_0x4ad1('0x6');var _0x271f12=document['getElementById'](_0x4ad1('0x1'));_0x271f12[_0x4ad1('0x16')]=_0x4ad1('0xd');var _0x4d3e81=getDictationContentJSON();var _0x343778=JSON['parse'](_0x4d3e81);var _0x476595=0x0;var _0x18ebfc=parseInt(document['getElementById']('repeatTimes')[_0x4ad1('0x11')]);var _0x2d4cbb=parseInt(document[_0x4ad1('0x0')](_0x4ad1('0x3'))[_0x4ad1('0x11')]);var _0x155c5e=_0x18ebfc;var _0x5d4d96=_0x2d4cbb;intervalRef=setTimeout(function(){if(_0x476595>0x0&&_0x476595<_0x343778[_0x4ad1('0x8')]['length']-0x1&&_0x155c5e>0x0){document['getElementById'](_0x4ad1('0x1'))[_0x4ad1('0x11')]=_0x343778[_0x4ad1('0x8')][_0x476595][_0x4ad1('0x7')];doTTS();_0x155c5e--;intervalRef=setTimeout(arguments[_0x4ad1('0x13')],dictateDuration(_0x343778['words'][_0x476595][_0x4ad1('0x7')]));}else if(_0x476595>0x0&&_0x476595<_0x343778['words'][_0x4ad1('0x12')]-0x1&&_0x155c5e<=0x0){_0x476595++;if(_0x476595<_0x343778[_0x4ad1('0x8')]['length']-0x1){_0x155c5e=_0x18ebfc;document[_0x4ad1('0x0')](_0x4ad1('0x1'))['value']=_0x343778['words'][_0x476595][_0x4ad1('0x7')];doTTS();_0x155c5e--;intervalRef=setTimeout(arguments['callee'],dictateDuration(_0x343778['words'][_0x476595][_0x4ad1('0x7')]));}}if(_0x476595==_0x343778[_0x4ad1('0x8')]['length']-0x1&&_0x5d4d96>=0x0){if(_0x5d4d96>0x0){document[_0x4ad1('0x0')](_0x4ad1('0x1'))[_0x4ad1('0x11')]=_0x343778['words'][_0x476595]['word'];doTTS();_0x5d4d96--;intervalRef=setTimeout(arguments['callee'],dictateDuration(_0x343778['words'][_0x476595]['word']));}else{stopDictation();}}else if(_0x476595==_0x343778[_0x4ad1('0x8')][_0x4ad1('0x12')]-0x1&&_0x2d4cbb==0x0){stopDictation();}if(_0x476595==0x0&&_0x5d4d96>0x0){document['getElementById']('ttsText')['value']=_0x343778['words'][_0x476595][_0x4ad1('0x7')];doTTS();_0x5d4d96--;intervalRef=setTimeout(arguments['callee'],dictateDuration(_0x343778[_0x4ad1('0x8')][_0x476595][_0x4ad1('0x7')]));if(_0x5d4d96==0x0){_0x476595++;_0x5d4d96=_0x2d4cbb;}}else if(_0x476595==0x0&&_0x2d4cbb==0x0){_0x476595++;}},0xfa0);}function stopDictation(){clearTimeout(intervalRef);var _0x51ecb7=document['getElementById']('wordToDict');_0x51ecb7['style']=_0x4ad1('0x9');var _0x395ef9=document[_0x4ad1('0x0')]('inf');_0x395ef9['innerHTML']='欢迎使用听写助手';var _0x5acb47=document[_0x4ad1('0x0')]('ttsText');_0x5acb47['value']='';_0x5acb47['style']='display:none;';var _0x508da7=document['getElementById']('dictationBtn');var _0x4b0926=document[_0x4ad1('0x0')]('stopDictationBtn');_0x508da7['disabled']=![];_0x4b0926[_0x4ad1('0xa')]=!![];}function doTTS(){var _0x496b5b=document[_0x4ad1('0x0')](_0x4ad1('0x1'))[_0x4ad1('0x11')];if(_0x4ad1('0x10')in window){var _0x1ee846=new SpeechSynthesisUtterance(_0x496b5b);window[_0x4ad1('0x10')][_0x4ad1('0x14')](_0x1ee846);}else{alert(_0x4ad1('0x15'));}}

</script>
</head>

<body>

<div id="container" style="text-align:center">

<div id="wordToDict" style="background-color:#0033FF;color:white;"><span id="inf">欢迎使用听写助手</span><input style="display:none;" type="text" id="ttsText" value="" /></div>
<hr style="border-color:#0033FF" />
<div id="bdtts_div_id">	
<audio id="tts_autio_id" autoplay="autoplay" />
<source id="tts_source_id" src="http://tts.baidu.com/text2audio?lan=zh&ie=UTF-8&spd=5&text=你好,欢迎使用听写助手" type="audio/mpeg" />
<embed id="tts_embed_id" height="0" width="0" src="" />
</audio>	
</div>
		
<div>
<form id="dictationContentForm" name="dictationContentForm">
请输入听写内容<br /><br />
<textarea rows="23" cols="28" id="dictationContent" name="dictationContent"></textarea>
<br />
<input type="button" id="dictationBtn" size="20" value="开始听写" onClick="dictation()" />
&nbsp;
<input type="button" id="stopDictationBtn" size="20" disabled="disabled" value="停止听写" onClick="stopDictation()" />
</form>
</div>
<div>
<hr style="border-color:#0033FF" />

<select id="hintRepeatTimes"><option value="0">提示重复0次</option><option value="1" selected="selected">提示重复1次</option><option value="2">提示重复2次</option><option value="3">提示重复3次</option></select>&nbsp;

<select id="repeatTimes"><option value="1">正文重复1次</option><option value="2">正文重复2次</option><option value="3" selected="selected">正文重复3次</option><option value="4">正文重复4次</option><option value="5">正文重复5次</option><option value="6">正文重复6次</option></select>

<select id="dictateDuration"><option value="3000">间隔3秒</option><option value="5000">间隔5秒</option><option value="7000">间隔7秒</option><option value="9000">间隔9秒</option><option value="11000">间隔11秒</option></select>

</div>
<div style="background-color:#0033FF;color:#CCCCCC; margin-top:5px;">
<div style="text-align:center">使用说明</div>
<div style="text-align:left;padding:10px;">
1、语文、英语均可听写；<br /><br />
2、听写前先输入想听写的单词，可以让孩子自己录入，强化记忆；<br /><br />
3、每个听写单元占一行，如想分别听写hello, world两个单词，那么在hello之后换行，如果想两个单词作为一个单元连读,则让这两个单词在一行即可。<br /><br />
4、语句过长很难完成听写,建议每个听写单元不要太长。
<br /><br />
5、听写开始和结束时，会有对应重复次数的听写开始和结束的提示，请耐心等待。
</div>
</div>

<div style="display:none"><script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?7c8af0f80029332a5ce15a12864b8f57";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>
</div>
</div>
</body>
</html>
